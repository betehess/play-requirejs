play-require
=========

[Require.js][require] asset handling plugin for [Play 2.x][play]. Implemented as [sbt][sbt] plugin.

Motivations
-------------

Require.js is already implemented in Play 2.1 but there are several issues in my opinion with the current implementation:

* the build file used during compilation is generated by Play and you cannot specify your own. There are really only two
keys in this file that need to be set by Play: appDir and dir, any other should be configurable by the user.
* you can only configure module names (e.g. requireJs += main.js) whereas Require.js gives you richer functionality like
include and exclude rules or custom path configuration.
* you need to read the source code to understand how the sbt keys are used. For instance requireJsShim expects a filename
that will be set as the main config file of the build (mainConfigFile key). It can contains shims configuration, as the
name indicates, but not only. This would be the hook to configure everything that Play does not expose but the name is
misleading.
* the client require.js script is shipped with Play and exposed directly. You cannot use your own version (e.g. an
un-minified version) nor can you configure it as part of a module.
* once you understood how require.js works you'll have to understand how Play implemented it and what maps to what,
actually adding complexity instead of making things simpler (unless you have a trivial use case like in the documentation).

Installation
------------

...

Issues and TODOs
--------

* build exceptions are not caught
* lack of configuration options to specify the build file and assets location
* the plugin does not check that the appDir and dir keys are set correctly in build.js. Ideally those keys would be
set directly by the plugin.

Acknowledgements
----------------

Inspired by [play-sass][play-sass] from jlitola

License
-------

TBD

[require]: http://requirejs.org/
[play]: http://www.playframework.org/
[sbt]: https://github.com/harrah/xsbt
[play-sass]: https://github.com/jlitola/play-sass
